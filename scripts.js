"use strict";var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup,App=React.createClass({displayName:"App",getInitialState:function(){return{status:2}},changeStatus:function(e){this.setState({status:e})},render:function(){return React.createElement("div",null,React.createElement("header",null,React.createElement("h1",null,"Twitch Streamers")),React.createElement(Tabs,{status:this.changeStatus}),React.createElement(Cards,{status:this.state.status}))}}),Tabs=React.createClass({displayName:"Tabs",getInitialState:function(){return{style:3,blue:{color:"#2196F3"},white:{color:"rgba(0, 0, 0, 0.5)"}}},changeColor:function(){this.props.status(0),this.setState({style:1})},changeColorSecond:function(){this.props.status(1),this.setState({style:2})},changeColorThird:function(){this.props.status(2),this.setState({style:3})},render:function(){return React.createElement("div",{id:"tabs"},1===this.state.style?React.createElement("p",{onClick:this.changeColor,style:{color:this.state.blue.color}},"Online"):React.createElement("p",{onClick:this.changeColor},"Online"),2===this.state.style?React.createElement("p",{onClick:this.changeColorSecond,style:{color:this.state.blue.color}},"Offline"):React.createElement("p",{onClick:this.changeColorSecond},"Offline"),3===this.state.style?React.createElement("p",{onClick:this.changeColorThird,style:{color:this.state.blue.color}},"All"):React.createElement("p",{onClick:this.changeColorThird},"All"))}}),Cards=React.createClass({displayName:"Cards",getInitialState:function(){return{renderAll:[],renderOnline:[],renderOffline:[],renderClosed:[],check:this.props.status,channels:["freecodecamp","storbeck","habathcx","meteos","RobotCaleb","noobs2ninjas","brunofin","comster404","cretetion","sheevergaming","TR7K","OgamingSC2","ESL_SC2"]}},getData:function(e){var t=this;if(void 0===e)for(var n=function(e){var n=t.state.channels[e];$.getJSON("https://api.twitch.tv/kraken/streams/"+n,function(e){$.getJSON("https://api.twitch.tv/kraken/channels/"+n,function(a){e.hasOwnProperty(status)===!1&&(null===e.stream?t.setState({renderAll:t.state.renderAll.concat([{channel:n,url:"https://www.twitch.tv/"+n,status:"offline",logo:a.logo}]),renderOffline:t.state.renderOffline.concat([{channel:n,url:"https://www.twitch.tv/"+n,status:"offline",logo:a.logo}])}):t.setState({renderAll:t.state.renderAll.concat([{channel:e.stream.channel.name,url:"https://www.twitch.tv/"+n,current:e.stream.channel.game+" - "+e.stream.channel.status,status:"online",logo:a.logo}]),renderOnline:t.state.renderOnline.concat([{channel:e.stream.channel.name,url:"https://www.twitch.tv/"+n,current:e.stream.channel.game+" - "+e.stream.channel.status,status:"online",logo:a.logo}])}))})}).fail(function(e){t.setState({renderClosed:t.state.renderClosed.concat([{channel:n,status:"closed"}])})})},a=0;a<this.state.channels.length;a++)n(a);else!function(){var e=t.state.channels[t.state.channels.length-1];$.getJSON("https://api.twitch.tv/kraken/streams/"+e,function(n){$.getJSON("https://api.twitch.tv/kraken/channels/"+e,function(a){n.hasOwnProperty(status)===!1&&(null===n.stream?t.setState({renderAll:t.state.renderAll.concat([{channel:e,url:"https://www.twitch.tv/"+e,status:"offline",logo:a.logo}]),renderOffline:t.state.renderOffline.concat([{channel:e,url:"https://www.twitch.tv/"+e,status:"offline",logo:a.logo}])}):t.setState({renderAll:t.state.renderAll.concat([{channel:n.stream.channel.name,url:"https://www.twitch.tv/"+e,current:n.stream.channel.game+" - "+n.stream.channel.status,status:"online",logo:a.logo}]),renderOnline:t.state.renderOnline.concat([{channel:n.stream.channel.name,url:"https://www.twitch.tv/"+e,current:n.stream.channel.game+" - "+n.stream.channel.status,status:"online",logo:a.logo}])}))})}).fail(function(n){t.setState({renderClosed:t.state.renderClosed.concat([{channel:e,status:"closed"}])})})}()},componentWillMount:function(){this.getData()},componentWillReceiveProps:function(e){this.setState({check:e})},renderCards:function(e){if(0===e||0===e.status){var t=this.state.renderOnline.map(function(e,t){return React.createElement("div",{className:"online cards",key:t},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("p",null,e.current))});return t}if(1===e||1===e.status){var n=this.state.renderOffline.map(function(e,t){return"offline"===e.status?React.createElement("div",{className:"offline cards",key:t},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("p",null,"Channel is offline")):void 0});return n}if(2===e||2===e.status){var a=this.state.renderAll.map(function(e,t){return"offline"===e.status?React.createElement("div",{className:"offline cards",key:t},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("p",null,"Channel is offline")):React.createElement("div",{className:"online cards",key:t},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("p",null,e.current))}),l=this.state.renderClosed.map(function(e,t){return React.createElement("div",{className:"closed cards",key:t},React.createElement("h3",null,e.channel),React.createElement("p",null,"Account Closed"))});return a.push(l),a}},newChannel:function(e){13===e.keyCode&&this.setState({channels:this.state.channels.concat([e.target.value])},function(){this.getData(1)})},leave:function(e){e.target.value=""},render:function(){return React.createElement("div",{id:"cards-inside"},React.createElement("input",{type:"text",placeholder:"+ Channel",onKeyDown:this.newChannel,onBlur:this.leave}),React.createElement(ReactCSSTransitionGroup,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:300},this.renderCards(this.state.check)))}});ReactDOM.render(React.createElement(App,null),document.getElementById("container-second"));