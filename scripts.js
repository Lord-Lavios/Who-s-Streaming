"use strict";function addInLocalStorage(e){var t=localStorage.channel;void 0===t?localStorage.setItem("channel",e):localStorage.setItem("channel",t+","+e)}var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup,App=React.createClass({displayName:"App",getInitialState:function(){return{status:2}},changeStatus:function(e){this.setState({status:e})},render:function(){return React.createElement("div",null,React.createElement("header",null,React.createElement("h1",null,"Twitch Streamers")),React.createElement(Tabs,{status:this.changeStatus}),React.createElement(Cards,{status:this.state.status}))}}),Tabs=React.createClass({displayName:"Tabs",getInitialState:function(){return{style:3,blue:{color:"#2196F3"},white:{color:"rgba(0, 0, 0, 0.5)"}}},changeColor:function(){this.props.status(0),this.setState({style:1})},changeColorSecond:function(){this.props.status(1),this.setState({style:2})},changeColorThird:function(){this.props.status(2),this.setState({style:3})},render:function(){return React.createElement("div",{id:"tabs"},1===this.state.style?React.createElement("p",{onClick:this.changeColor,style:{color:this.state.blue.color}},"Online"):React.createElement("p",{onClick:this.changeColor},"Online"),2===this.state.style?React.createElement("p",{onClick:this.changeColorSecond,style:{color:this.state.blue.color}},"Offline"):React.createElement("p",{onClick:this.changeColorSecond},"Offline"),3===this.state.style?React.createElement("p",{onClick:this.changeColorThird,style:{color:this.state.blue.color}},"All"):React.createElement("p",{onClick:this.changeColorThird},"All"))}}),Cards=React.createClass({displayName:"Cards",getInitialState:function(){return{renderAll:[],check:this.props.status,channels:null}},setData:function(){var e=["freecodecamp","storbeck","habathcx","meteos","RobotCaleb","noobs2ninjas","brunofin","comster404","cretetion","sheevergaming","TR7K","OgamingSC2","ESL_SC2"];if(localStorage.channel){e=[];var t=localStorage.channel.split(",");t.map(function(t){e.push(t)})}this.setState({channels:e},function(){localStorage.removeItem("channel"),this.getData()})},getData:function(e){var t=this;if(void 0===e)for(var a=function(e){var a=t.state.channels[e];$.getJSON("https://api.twitch.tv/kraken/streams/"+a,function(e){$.getJSON("https://api.twitch.tv/kraken/channels/"+a,function(n){e.hasOwnProperty(status)===!1&&(null===e.stream?t.setState({renderAll:t.state.renderAll.concat([{channel:a,url:"https://www.twitch.tv/"+a,status:"offline",logo:n.logo}])},function(){addInLocalStorage(a)}):t.setState({renderAll:t.state.renderAll.concat([{channel:e.stream.channel.name,url:"https://www.twitch.tv/"+a,current:e.stream.channel.game+" - "+e.stream.channel.status,status:"online",logo:n.logo}])},function(){addInLocalStorage(a)}))})}).fail(function(e){t.setState({renderAll:t.state.renderAll.concat([{channel:a,status:"closed"}])},function(){addInLocalStorage(a)})})},n=0;n<this.state.channels.length;n++)a(n);else!function(){var e=t.state.channels[t.state.channels.length-1];$.getJSON("https://api.twitch.tv/kraken/streams/"+e,function(a){$.getJSON("https://api.twitch.tv/kraken/channels/"+e,function(n){a.hasOwnProperty(status)===!1&&(null===a.stream?t.setState({renderAll:t.state.renderAll.concat([{channel:e,url:"https://www.twitch.tv/"+e,status:"offline",logo:n.logo}])},function(){addInLocalStorage(e)}):t.setState({renderAll:t.state.renderAll.concat([{channel:a.stream.channel.name,url:"https://www.twitch.tv/"+e,current:a.stream.channel.game+" - "+a.stream.channel.status,status:"online",logo:n.logo}])},function(){addInLocalStorage(e)}))})}).fail(function(a){t.setState({renderAll:t.state.renderAll.concat([{channel:e,status:"closed"}])},function(){addInLocalStorage(e)})})}()},componentWillMount:function(){this.setData()},componentWillReceiveProps:function(e){this.setState({check:e})},"delete":function(e){var t=this.state.renderAll.slice(),a=localStorage.channel.split(",");a.splice(e,1),""===a?localStorage.removeItem("channel"):localStorage.setItem("channel",a),t.splice(e,1),this.setState({renderAll:t})},renderCards:function(e){var t=this;if(0===e||0===e.status){var a=this.state.renderAll.map(function(e,a){return"online"===e.status?React.createElement("div",{className:"online cards",key:a},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("button",{className:"cross",onClick:function(){t["delete"](a)}},"✕"),React.createElement("p",null,e.current)):void 0});return a}if(1===e||1===e.status){var n=this.state.renderAll.map(function(e,a){return"offline"===e.status?React.createElement("div",{className:"offline cards",key:a},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("button",{className:"cross",onClick:function(){t["delete"](a)}},"✕"),React.createElement("p",null,"Channel is offline")):void 0});return n}if(2===e||2===e.status){var l=this.state.renderAll.map(function(e,a){return"offline"===e.status?React.createElement("div",{className:"offline cards",key:a},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("button",{className:"cross",onClick:function(){t["delete"](a)}},"✕"),React.createElement("p",null,"Channel is offline")):"online"===e.status?React.createElement("div",{className:"online cards",key:a},React.createElement("img",{src:e.logo,width:"30px",height:"30px"}),React.createElement("a",{target:"_blank",href:e.url},React.createElement("h3",null,e.channel)),React.createElement("button",{className:"cross",onClick:function(){t["delete"](a)}},"✕"),React.createElement("p",null,e.current)):React.createElement("div",{className:"closed cards",key:a},React.createElement("h3",null,e.channel),React.createElement("p",null,"Account Closed"),React.createElement("button",{className:"cross",onClick:function(){t["delete"](a)}},"✕"))});return l}},newChannel:function(e){if(13===e.keyCode){var t=e.target.value;this.setState({channels:this.state.channels.concat([t])},function(){this.getData(1)})}},leave:function(e){e.target.value=""},render:function(){return React.createElement("div",{id:"cards-inside"},React.createElement("input",{type:"text",placeholder:"+ Channel",onKeyDown:this.newChannel,onBlur:this.leave}),React.createElement(ReactCSSTransitionGroup,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:400},this.renderCards(this.state.check)))}});ReactDOM.render(React.createElement(App,null),document.getElementById("container-second"));